(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RXBc:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),l=(n("ls82"),n("HaE+")),o=n("q1tI"),c=n.n(o),u=n("qhky"),i=n("4R65"),s=n.n(i),f=Object(o.createContext)(null),d=f.Provider;function p(){var e=Object(o.useContext)(f);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function v(){return p().map}n("vDqi");var m=n("7oih"),b=(n("VUD3"),n("KQm4"));function y(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function O(e,t){if(null==e)return{};var n,r,a=y(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=n("BsWD");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,l=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return n}}(e,t)||Object(j.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){var t=e.children,n=e.className,r=e.id,a=e.placeholder,l=e.style,u=e.whenCreated,s=O(e,["children","className","id","placeholder","style","whenCreated"]),f=Object(o.useRef)(null),p=function(e,t){var n=h(Object(o.useState)(null),2),r=n[0],a=n[1];return Object(o.useEffect)((function(){if(null!==e.current&&null===r){var n=new i.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),a(n)}}),[e,r,t]),r}(f,s),v=Object(o.useRef)(!1);Object(o.useEffect)((function(){null!=p&&!1===v.current&&null!=u&&(v.current=!0,u(p))}),[p,u]);var m=Object(o.useMemo)((function(){return p?{__version:1,map:p}:null}),[p]),b=m?c.a.createElement(d,{value:m},t):null!=a?a:null;return c.a.createElement("div",{ref:f,className:n,id:r,style:l},b)}n("i8i4");function E(e){function t(t,n){var r=e(t).current.instance;return Object(o.useImperativeHandle)(n,(function(){return r})),null}return Object(o.forwardRef)(t)}function g(e,t){return null==t?function(t,n){return Object(o.useRef)(e(t,n))}:function(n,r){var a=Object(o.useRef)(e(n,r)),l=Object(o.useRef)(n),c=a.current.instance;return Object(o.useEffect)((function(){l.current!==n&&(t(c,n,l.current),l.current=n)}),[c,n,r]),a}}function P(e,t){var n=Object(o.useRef)(t);Object(o.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function C(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n,r=null!=(n=e.pane)?n:t.pane;return r?R(R({},e),{},{pane:r}):e}function M(e,t){Object(o.useEffect)((function(){var n,r=null!=(n=t.layerContainer)?n:t.map;return r.addLayer(e.instance),function(){r.removeLayer(e.instance)}}),[t,e])}function x(e){return function(t){var n=p(),r=e(S(t,n),n);return P(n.map,t.attribution),C(r.current,t.eventHandlers),M(r.current,n),r}}var D,I,L=E(x(g((function(e,t){var n=e.url,r=O(e,["url"]);return{instance:new i.TileLayer(n,S(r,t)),context:t}}),(function(e,t,n){var r=t.opacity,a=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=a&&a!==n.zIndex&&e.setZIndex(a)})))),T=(I=function(e){return new i.Control.Zoom(e)},E((D=g((function(e,t){return{instance:I(e),context:t}})),function(e){var t=p(),n=D(e,t),r=n.current.instance,a=Object(o.useRef)(e.position),l=e.position;return Object(o.useEffect)((function(){return r.addTo(t.map),function(){r.remove()}}),[t.map,r]),Object(o.useEffect)((function(){null!=l&&l!==a.current&&(r.setPosition(l),a.current=l)}),[r,l]),n}))),A=n("gGy4");n("E9XD");function z(e){var t=""+e;return(t=t.split("")).reverse(),(t=(t=t.reduce((function(e,n,r){var a=""+e+n;return(r+1)%3==0&&r+1<t.length&&(a+=","),a}),"")).split("")).reverse(),t=t.join("")}var B=function(e){var t=e.children,n=e.className,r=e.defaultBaseMap,a=void 0===r?"OpenStreetMap":r,l=y(e,["children","className","defaultBaseMap"]);Object(A.a)();var o=Object(A.b)({names:Object(b.a)(new Set([a,"OpenStreetMap"]))}).find((function(e){return e.name===a})),u="map";if(n&&(u=u+" "+n),"undefined"==typeof window||!window.document||!window.document.createElement)return c.a.createElement("div",{className:u},c.a.createElement("p",{className:"map-loading"},"Loading map..."));var i=Object.assign({className:"map-base",zoomControl:!1},l);return c.a.createElement("div",{className:u},c.a.createElement(w,i,t,o&&c.a.createElement(L,o),c.a.createElement(T,{position:"bottomright"})))},H=[0,0];t.default=function(){var e=Object(A.d)({api:"countries"}).data,t=void 0===e?[]:e,n=Object(A.d)({api:"all"}).data,r=void 0===n?{}:n,i=Array.isArray(t)&&t.length>0,f=[{primary:{label:"Total Cases",value:r?z(null==r?void 0:r.cases):"-"},secondary:{label:"Per 1 Million",value:null==r?void 0:r.casesPerOneMillion}},{primary:{label:"Total Deaths",value:r?z(null==r?void 0:r.deaths):"-"},secondary:{label:"Per 1 Million",value:null==r?void 0:r.deathsPerOneMillion}},{primary:{label:"Total Tests",value:r?z(null==r?void 0:r.tests):"-"},secondary:{label:"Per 1 Million",value:null==r?void 0:r.testsPerOneMillion}},{primary:{label:"Active Cases",value:r?z(null==r?void 0:r.active):"-"}},{primary:{label:"Critical Cases",value:r?z(null==r?void 0:r.critical):"-"}},{primary:{label:"Recovered Cases",value:r?z(null==r?void 0:r.recovered):"-"}}],d={center:H,defaultBaseMap:"OpenStreetMap",zoom:2},p=function(){var e=v();return Object(o.useEffect)((function(){(function(){var n=Object(l.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i){n.next=2;break}return n.abrupt("return");case 2:r={type:"FeatureCollection",features:t.map((function(e){void 0===e&&(e={});var t=e.countryInfo,n=void 0===t?{}:t,r=n.lat,a=n.long;return{type:"Feature",properties:Object.assign({},e),geometry:{type:"Point",coordinates:[a,r]}}}))},new s.a.GeoJSON(r,{pointToLayer:function(e,t){void 0===e&&(e={});var n,r,a=e.properties,l=void 0===a?{}:a,o=l.country,c=l.updated,u=l.cases,i=l.deaths,f=l.recovered;r=""+u,u>1e3&&(r=r.slice(0,-3)+"k+"),c&&(n=new Date(c).toLocaleString());var d='\n            <span class="icon-marker">\n              <span class="icon-marker-tooltip">\n                <h2>'+o+"</h2>\n                <ul>\n                  <li><strong>Confirmed:</strong> "+u+"</li>\n                  <li><strong>Deaths:</strong> "+i+"</li>\n                  <li><strong>Recovered:</strong> "+f+"</li>\n                  <li><strong>Last Update:</strong> "+n+"</li>\n                </ul>\n              </span>\n              "+r+"\n            </span>\n          ";return s.a.marker(t,{icon:s.a.divIcon({className:"icon",html:d}),riseOnHover:!0})}}).addTo(e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),null};return c.a.createElement(m.a,{pageName:"home"},c.a.createElement(u.a,null,c.a.createElement("title",null,"Home Page")),c.a.createElement("div",{className:"tracker"},c.a.createElement(B,d,c.a.createElement(p,null)),c.a.createElement("div",{className:"tracker-stats"},c.a.createElement("ul",null,f.map((function(e,t){var n=e.primary,r=void 0===n?{}:n,a=e.secondary,l=void 0===a?{}:a;return c.a.createElement("li",{key:"Stat-"+t,className:"tracker-stat"},r.value&&c.a.createElement("p",{className:"tracker-stat-primary"},r.value,c.a.createElement("strong",null,r.label)),l.value&&c.a.createElement("p",{className:"tracker-stat-secondary"},l.value,c.a.createElement("strong",null,l.label)))})))),c.a.createElement("div",{className:"tracker-last-updated"},c.a.createElement("p",null,"Last Updated: ",null==r?void 0:r.updated))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-d1ec6dd78bc9b3a7e6b8.js.map